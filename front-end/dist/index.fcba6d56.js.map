{"mappings":"ACAA,MAAM,EAAQ,EAAE,YACV,EAAU,EAAE,eACZ,EAAS,EAAE,cACC,EAAE,aACpB,MAAM,EAAQ,EAAE,QACV,EAAc,EAAE,qEAChB,EAAa,gCAEnB,AAoEA,CAAA,WAEI,IAAM,EAAO,EAAE,KAAK,CAAC,EAAE,EAAa,OAAO,CAAC,EAC5C,EAAM,KAAK,AAAC,IACR,EAAc,QAAQ,AAAA,IAClB,IAAM,EAAO,EAAE,gCACT,EAAU,EAAE,CAAC;;MAEzB,CAAC,EACK,aAAa,QAAQ,CAAC,MAAM,EAAE,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,EAAS,CAAC,CAAC,EAC7D,EAAO,IAAI,mBAAmB,CAAC,IAAI,EAAE,EAAS,CAAC,CAAC,EAChD,EAAO,OAAO,GACd,EAAE,QAAQ,OAAO,EACrB,EAEJ,EAEJ,CAAA,IAnFA,EAAU,GAAG,QAAQ,IAAI,EAAQ,YAAY,WAC7C,EAAQ,GAAG,QAAQ,AAAC,IACb,EAAU,SAAS,CAAO,CAAC,EAAE,EAAC,EAAQ,SAAS,SACtD,GAEA,EAAE,UAAU,GAAG,UAAU,AAAC,IACH,WAAhB,EAAU,KAAmB,EAAQ,SAAS,WAC7C,EAAQ,SAAS,SAGzB,GACA,EAAQ,GAAG,WAAW,AAAC,GAAY,EAAU,kBAC7C,EAAQ,GAAG,OAAO,AAAC,GAAY,EAAU,kBAEzC,EAAS,GAAG,WAAW,AAAC,IACvB,EAAU,gBACX,GAEA,EAAS,GAAG,OAAO,AAAC,IAEhB,EAAU,iBACW,EAAU,cAAc,aAAa,MAGtD,WAAW,SACf,EAAQ,SAAS,UACjB,AASJ,SAAuB,CAAU,EAE7B,IAAM,EAAS,IAAI,SACnB,EAAW,QAAQ,AAAA,IACf,IAAM,EAAS,EAAE,qCACjB,EAAO,OAAO,GACd,EAAQ,OAAO,GAEf,EAAS,OAAO,OAAO,EAC3B,GAGA,IAAM,EAAQ,EAAE,KAAK,CAAC,EAAE,EAAa,OAAO,CAAC,CAAC,CAC1C,OAAO,OACP,KAAK,EACL,YAAY,CAAA,EACZ,YAAY,CAAA,CAChB,GAEA,EAAM,KAAK,AAAC,IAER,EAAa,QAAQ,AAAA,IAClB,IAAM,EAAS,EAAE,iBAAiB,QAClC,EAAO,IAAI,mBAAmB,CAAC,EAAE,EAAI,CAAC,EACtC,EAAO,QACP,EAAO,YAAY,SACtB,EACJ,EAEJ,EAtCiB,YAEjB,GAEA,EAAQ,GAAG,QAAQ,sBAAsB,AAAC,IACtC,EAAU,OAAO,mBACrB","sources":["<anon>","src/js/app.js"],"sourcesContent":["var $388b617130f03bd4$exports = {};\nconst $388b617130f03bd4$var$overlay = $(\"#overlay\");\nconst $388b617130f03bd4$var$btnUpload = $(\"#btn-upload\");\nconst $388b617130f03bd4$var$dropZone = $(\"#drop-zone\");\nconst $388b617130f03bd4$var$btnDownload = $(\".download\");\nconst $388b617130f03bd4$var$mainElm = $(\"main\");\nconst $388b617130f03bd4$var$cssLoaderHtml = $(`<div class=\"lds-facebook\"><div></div><div></div><div></div></div>`);\nconst $388b617130f03bd4$var$REST_API_URL = `http://localhost:8080/gallery`;\n$388b617130f03bd4$var$loadAllImages();\n$388b617130f03bd4$var$btnUpload.on(\"click\", ()=>$388b617130f03bd4$var$overlay.removeClass(\"d-none\"));\n$388b617130f03bd4$var$overlay.on(\"click\", (eventData)=>{\n    if (eventData.target === $388b617130f03bd4$var$overlay[0]) $388b617130f03bd4$var$overlay.addClass(\"d-none\");\n});\n$(document).on(\"keydown\", (eventData)=>{\n    if (eventData.key === \"Escape\" && !$388b617130f03bd4$var$overlay.hasClass(\"d-none\")) $388b617130f03bd4$var$overlay.addClass(\"d-none\");\n});\n$388b617130f03bd4$var$overlay.on(\"dragover\", (eventData)=>eventData.preventDefault());\n$388b617130f03bd4$var$overlay.on(\"drop\", (eventData)=>eventData.preventDefault());\n$388b617130f03bd4$var$dropZone.on(\"dragover\", (eventData)=>{\n    eventData.preventDefault();\n});\n$388b617130f03bd4$var$dropZone.on(\"drop\", (eventData)=>{\n    eventData.preventDefault();\n    const droppedFiles = eventData.originalEvent.dataTransfer.files;\n    // filtering images from all dropped files\n    if (!imageFiles.length) return;\n    $388b617130f03bd4$var$overlay.addClass(\"d-none\");\n    $388b617130f03bd4$var$uploadImages(imageFiles);\n});\n$388b617130f03bd4$var$mainElm.on(\"click\", \".image:not(.loader)\", (eventData)=>{\n    eventData.target.requestFullscreen();\n});\nfunction $388b617130f03bd4$var$uploadImages(imageFiles1) {\n    const formData = new FormData();\n    imageFiles1.forEach((imageFile)=>{\n        const divElm = $(`<div class=\"images loader\"></div>`);\n        divElm.append($388b617130f03bd4$var$cssLoaderHtml);\n        $388b617130f03bd4$var$mainElm.append(divElm);\n        formData.append(\"abcs\", imageFile);\n    });\n    const jqxhr = $.ajax(`${$388b617130f03bd4$var$REST_API_URL}/images`, {\n        method: \"POST\",\n        data: formData,\n        contentType: false,\n        processData: false // by default jquery try to convert data in to string son ned to preven defult action\n    });\n    jqxhr.done((imageUrlList)=>{\n        imageUrlList.forEach((url)=>{\n            const divElm = $(\".image.loader\").first();\n            divElm.css(\"background-image\", `${url}`);\n            divElm.empty();\n            divElm.removeClass(\"loader\");\n        });\n    });\n}\nfunction $388b617130f03bd4$var$loadAllImages() {\n    const jqxhr = $.ajax(`${$388b617130f03bd4$var$REST_API_URL}/images`);\n    jqxhr.done((imageFileList)=>{\n        imageFileList.forEach((imageUrl)=>{\n            const divElm = $(`<div class=\"images  \"></div>`);\n            const trashIcon = $(` <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-down-circle-fill download\" viewBox=\"0 0 16 16\">\n  <path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z\"/>\n</svg>`);\n            localStorage.setItem(`image_${Date.now()}`, `url(${imageUrl})`);\n            divElm.css(\"background-image\", `url(${imageUrl})`);\n            divElm.append(trashIcon);\n            $(\"main\").append(divElm);\n        });\n    });\n} // btnDownload.on('click',(eventData)=>{\n // const divElm = $(`eventData.target`).parent();\n //\n //     downloadImage();\n //\n // });\n // function downloadImage(){\n //\n //\n //\n // }\n\n\n//# sourceMappingURL=index.fcba6d56.js.map\n","const overlay=$('#overlay');\nconst btnUpload=$('#btn-upload');\nconst dropZone=$('#drop-zone');\nconst btnDownload=$('.download');\nconst mainElm=$('main');\nconst cssLoaderHtml=$(`<div class=\"lds-facebook\"><div></div><div></div><div></div></div>`);\nconst REST_API_URL=`http://localhost:8080/gallery`;\n\nloadAllImages();\n\nbtnUpload.on('click',()=>overlay.removeClass('d-none'));\noverlay.on('click',(eventData)=>{\n    if(eventData.target===overlay[0])overlay.addClass('d-none');\n});\n\n$(document).on('keydown',(eventData)=>{\n    if(eventData.key==='Escape' && !overlay.hasClass('d-none')){\n        overlay.addClass('d-none');\n    }\n\n});\noverlay.on('dragover',(eventData)=>eventData.preventDefault());\noverlay.on('drop',(eventData)=>eventData.preventDefault());\n\ndropZone.on('dragover',(eventData)=>{\n eventData.preventDefault();\n});\n\ndropZone.on('drop',(eventData)=>{\n\n    eventData.preventDefault();\n    const droppedFiles = eventData.originalEvent.dataTransfer.files;\n\n  // filtering images from all dropped files\n    if(!imageFiles.length) return;\n    overlay.addClass(\"d-none\");\n    uploadImages(imageFiles);\n\n});\n\nmainElm.on('click','.image:not(.loader)',(eventData)=>{\n    eventData.target.requestFullscreen();\n});\n\n\nfunction  uploadImages(imageFiles){\n\n    const formData=new FormData();\n    imageFiles.forEach(imageFile=>{\n        const divElm = $(`<div class=\"images loader\"></div>`);\n        divElm.append(cssLoaderHtml)\n        mainElm.append(divElm);\n\n        formData.append('abcs',imageFile);\n    });\n\n\n    const jqxhr = $.ajax(`${REST_API_URL}/images`,{\n        method:'POST',\n        data:formData,\n        contentType:false, // if we do not set jquery use x-wwww-form encoded data type used to send data\n        processData:false // by default jquery try to convert data in to string son ned to preven defult action\n    });\n\n    jqxhr.done((imageUrlList)=>{\n\n        imageUrlList.forEach(url=>{\n           const divElm = $(\".image.loader\").first();\n           divElm.css('background-image',`${url}`);\n           divElm.empty();\n           divElm.removeClass('loader');\n        });\n    })\n\n}\n\nfunction loadAllImages(){\n\n    const jqxhr= $.ajax(`${REST_API_URL}/images`);\n    jqxhr.done((imageFileList)=>{\n        imageFileList.forEach(imageUrl=>{\n            const divElm=$(`<div class=\"images  \"></div>`);\n            const trashIcon=$(` <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-down-circle-fill download\" viewBox=\"0 0 16 16\">\n  <path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z\"/>\n</svg>`)\n            localStorage.setItem(`image_${Date.now()}`,`url(${imageUrl})`);\n            divElm.css('background-image',`url(${imageUrl})`);\n            divElm.append(trashIcon);\n            $('main').append(divElm);\n        });\n\n    });\n\n}\n\n// btnDownload.on('click',(eventData)=>{\n// const divElm = $(`eventData.target`).parent();\n//\n//     downloadImage();\n//\n// });\n\n// function downloadImage(){\n//\n//\n//\n// }\n\n\n"],"names":["$388b617130f03bd4$var$overlay","$","$388b617130f03bd4$var$btnUpload","$388b617130f03bd4$var$dropZone","$388b617130f03bd4$var$mainElm","$388b617130f03bd4$var$cssLoaderHtml","$388b617130f03bd4$var$REST_API_URL","$388b617130f03bd4$var$loadAllImages","jqxhr","ajax","done","imageFileList","forEach","imageUrl","divElm","trashIcon","localStorage","setItem","Date","now","css","append","on","removeClass","eventData","target","addClass","document","key","hasClass","preventDefault","originalEvent","dataTransfer","files","imageFiles","length","$388b617130f03bd4$var$uploadImages","imageFiles1","formData","FormData","imageFile","method","data","contentType","processData","imageUrlList","url","first","empty","requestFullscreen"],"version":3,"file":"index.fcba6d56.js.map"}